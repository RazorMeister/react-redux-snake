(this.webpackJsonplab6=this.webpackJsonplab6||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){},24:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(4),o=n.n(a),i=(n(15),n(16),n(2)),s=n(1);var u=function(e){var t=Object(i.c)((function(e){return e.snake.points})),n=Object(i.c)((function(e){return e.snake.head})),r=Object(i.c)((function(e){return e.fruitPosition})),c=Object(i.c)((function(e){return e.fruitType})),a=Object(i.c)((function(e){return e.boardSize}));return Object(s.jsx)("div",{className:"cell",children:Object(s.jsx)("div",{className:function(){var o=["cell--content"];return t.some((function(t){return t===e.X+a*e.Y}))&&o.push("snake"),n===e.X+a*e.Y&&o.push("snake--head"),r===e.X+a*e.Y&&o.push(c),o.join(" ")}()})})};function b(e){return{type:"snake/move",payload:e}}var l,d,j=function(){var e=Object(i.c)((function(e){return e.score})),t=Object(i.c)((function(e){return e.bestScore}));return Object(s.jsxs)("div",{className:"stats",children:[Object(s.jsxs)("h1",{children:["Score: ",e]}),Object(s.jsxs)("h2",{children:["Best score: ",t]})]})},f=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e};function O(e,t){for(var n=[],r=0;r<e;r++)for(var c=0;c<e;c++){var a=r+e*c;t.includes(a)||n.push(a)}return n[f(0,n.length-1)]}function h(){return f(0,100)<20?d.BLUEBERRY:d.APPLE}function v(){var e={boardSize:20,moveDirection:l.RIGHT,snake:{points:[],head:207,tail:205},gameOver:!1,score:0,bestScore:0,fruitPosition:O(20,[205,206,207]),fruitType:d.APPLE,scored:!1,pause:!0,lastMoveDirection:l.RIGHT};return e.snake.points=[205,206,207],e}!function(e){e[e.RIGHT=1]="RIGHT",e[e.LEFT=-1]="LEFT",e[e.UP=2]="UP",e[e.DOWN=-2]="DOWN"}(l||(l={})),function(e){e.APPLE="apple",e.BLUEBERRY="blueberry"}(d||(d={}));var p=function(){var e=Object(i.c)((function(e){return e.boardSize})),t=Object(i.c)((function(e){return e.gameOver})),n=Object(i.c)((function(e){return e.pause})),c=Object(i.b)(),a=Object(r.useCallback)((function(e){switch(e.keyCode){case 39:c(b(l.RIGHT));break;case 37:c(b(l.LEFT));break;case 38:c(b(l.UP));break;case 40:c(b(l.DOWN))}}),[c]);return Object(r.useEffect)((function(){return document.addEventListener("keydown",a)}),[a]),Object(r.useEffect)((function(){return setInterval((function(){return c(function(){return{type:"snake/tick",payload:arguments.length>0&&void 0!==arguments[0]?arguments[0]:null}}())}),150)}),[c]),Object(s.jsxs)("div",{className:"board-wrapper",children:[Object(s.jsxs)("div",{className:"board-title",children:[Object(s.jsx)("h1",{children:"Redux Snake Game"}),Object(s.jsx)("h4",{className:"pause-info ".concat(n?"":"hide"),children:"Press any arrow to begin"})]}),Object(s.jsx)("div",{className:"board",children:Array.from({length:e},(function(e,t){return t})).map((function(t){return Object(s.jsx)("div",{className:"row",children:(n=t,Array.from({length:e},(function(e,t){return t})).map((function(e){return Object(s.jsx)(u,{X:n,Y:e},"".concat(n,"-").concat(e))})))},t);var n}))}),Object(s.jsx)(j,{}),t&&Object(s.jsx)("div",{className:"game-over-modal",children:Object(s.jsxs)("div",{className:"game-over-modal-content",children:[Object(s.jsx)("h1",{children:"GAME OVER"}),Object(s.jsx)("button",{onClick:function(){return c(function(){return{type:"snake/reset",payload:arguments.length>0&&void 0!==arguments[0]?arguments[0]:null}}())},children:"Play again"})]})})]})},m=n(7),k=n(5),S=n(3),g=v(),x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=0;if(e.gameOver)return e;if(null!==t)return e.moveDirection+t===0?Object(S.a)(Object(S.a)({},e),{},{pause:!1}):Object(S.a)(Object(S.a)({},e),{},{pause:!1,moveDirection:t});if(e.pause)return e;switch(e.moveDirection+e.lastMoveDirection===0&&(e.moveDirection=e.lastMoveDirection),e.moveDirection){case l.RIGHT:n=1;break;case l.LEFT:n=-1;break;case l.UP:n=-e.boardSize;break;case l.DOWN:n=e.boardSize}var r=e.snake.head+n,c=e.snake.head-Math.floor(e.snake.head/e.boardSize)*e.boardSize,a=e.scored,o=Object(k.a)(e.snake.points);if(o.push(r),r<0||r>e.boardSize-1+(e.boardSize-1)*e.boardSize||1===Math.abs(e.moveDirection)&&(c+n>=e.boardSize||c+n<0)||o.slice(0,-1).find((function(e){return e===r})))return Object(S.a)(Object(S.a)({},e),{},{bestScore:e.score>e.bestScore?e.score:e.bestScore,gameOver:!0});a||o.shift();var i=e.score,s=e.fruitPosition,u=e.fruitType;return r===s?(i+=u===d.BLUEBERRY?2:1,s=O(e.boardSize,[s].concat(Object(k.a)(o),[e.snake.tail])),u=h(),a=!0):a=!1,Object(S.a)(Object(S.a)({},e),{},{score:i,fruitPosition:s,fruitType:u,scored:a,lastMoveDirection:e.moveDirection,snake:{points:Object(k.a)(o),head:r,tail:o[0]}})};var y=n(10),E=Object(m.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"snake/move":return x(e,t.payload);case"snake/tick":return x(e);case"snake/reset":return Object(S.a)(Object(S.a)({},v()),{},{bestScore:e.bestScore});default:return e}}),v(),Object(y.composeWithDevTools)());var D=function(){return Object(s.jsx)(i.a,{store:E,children:Object(s.jsx)(p,{})})},P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,25)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),c(e),a(e),o(e)}))};o.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(D,{})}),document.getElementById("root")),P()}},[[24,1,2]]]);
//# sourceMappingURL=main.a4fc9384.chunk.js.map